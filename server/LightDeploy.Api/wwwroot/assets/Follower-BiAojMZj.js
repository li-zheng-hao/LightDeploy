import{o as W,aa as C,c3 as ut,c4 as dt,c5 as pt,c6 as ft,bj as x,c7 as ht,b6 as M,a3 as z,k as U,n as $,bR as ct,bQ as mt,bP as vt,r as E,C as D,d as _,p as bt,a9 as yt,c8 as wt,aC as G,c9 as T,ca as xt,bn as Mt,t as j,aO as $t,h as N,cb as gt,az as kt,bW as zt}from"./index-IJZQufTE.js";let X=[];const J=new WeakMap;function Bt(){X.forEach(n=>n(...J.get(n))),X=[]}function Ct(n,...t){J.set(n,t),!X.includes(n)&&X.push(n)===1&&requestAnimationFrame(Bt)}function Kt(n,t){let{target:e}=n;for(;e;){if(e.dataset&&e.dataset[t]!==void 0)return!0;e=e.parentElement}return!1}let k,B;const At=()=>{var n,t;k=ut?(t=(n=document)===null||n===void 0?void 0:n.fonts)===null||t===void 0?void 0:t.ready:void 0,B=!1,k!==void 0?k.then(()=>{B=!0}):B=!0};At();function Ot(n){if(B)return;let t=!1;W(()=>{B||k==null||k.then(()=>{t||n()})}),C(()=>{t=!0})}function Pt(n={},t){const e=dt({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:l,keyup:s}=n,p=o=>{switch(o.key){case"Control":e.ctrl=!0;break;case"Meta":e.command=!0,e.win=!0;break;case"Shift":e.shift=!0;break;case"Tab":e.tab=!0;break}l!==void 0&&Object.keys(l).forEach(m=>{if(m!==o.key)return;const c=l[m];if(typeof c=="function")c(o);else{const{stop:b=!1,prevent:r=!1}=c;b&&o.stopPropagation(),r&&o.preventDefault(),c.handler(o)}})},a=o=>{switch(o.key){case"Control":e.ctrl=!1;break;case"Meta":e.command=!1,e.win=!1;break;case"Shift":e.shift=!1;break;case"Tab":e.tab=!1;break}s!==void 0&&Object.keys(s).forEach(m=>{if(m!==o.key)return;const c=s[m];if(typeof c=="function")c(o);else{const{stop:b=!1,prevent:r=!1}=c;b&&o.stopPropagation(),r&&o.preventDefault(),c.handler(o)}})},f=()=>{(t===void 0||t.value)&&(M("keydown",document,p),M("keyup",document,a)),t!==void 0&&z(t,o=>{o?(M("keydown",document,p),M("keyup",document,a)):(x("keydown",document,p),x("keyup",document,a))})};return pt()?(ft(f),C(()=>{(t===void 0||t.value)&&(x("keydown",document,p),x("keyup",document,a))})):f(),ht(e)}const Tt=U("n-internal-select-menu"),Et=U("n-internal-select-menu-body"),Z="__disabled__";function R(n){const t=$(ct,null),e=$(mt,null),l=$(vt,null),s=$(Et,null),p=E();if(typeof document<"u"){p.value=document.fullscreenElement;const a=()=>{p.value=document.fullscreenElement};W(()=>{M("fullscreenchange",document,a)}),C(()=>{x("fullscreenchange",document,a)})}return D(()=>{var a;const{to:f}=n;return f!==void 0?f===!1?Z:f===!0?p.value||"body":f:t!=null&&t.value?(a=t.value.$el)!==null&&a!==void 0?a:t.value:e!=null&&e.value?e.value:l!=null&&l.value?l.value:s!=null&&s.value?s.value:f??(p.value||"body")})}R.tdkey=Z;R.propTo={type:[String,Object,Boolean],default:void 0};let w=null;function tt(){if(w===null&&(w=document.getElementById("v-binder-view-measurer"),w===null)){w=document.createElement("div"),w.id="v-binder-view-measurer";const{style:n}=w;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(w)}return w.getBoundingClientRect()}function Xt(n,t){const e=tt();return{top:t,left:n,height:0,width:0,right:e.width-n,bottom:e.height-t}}function S(n){const t=n.getBoundingClientRect(),e=tt();return{left:t.left-e.left,top:t.top-e.top,bottom:e.height+e.top-t.bottom,right:e.width+e.left-t.right,width:t.width,height:t.height}}function Yt(n){return n.nodeType===9?null:n.parentNode}function et(n){if(n===null)return null;const t=Yt(n);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:e,overflowX:l,overflowY:s}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+s+l))return t}return et(t)}const It=_({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var t;bt("VBinder",(t=yt())===null||t===void 0?void 0:t.proxy);const e=$("VBinder",null),l=E(null),s=i=>{l.value=i,e&&n.syncTargetWithParent&&e.setTargetRef(i)};let p=[];const a=()=>{let i=l.value;for(;i=et(i),i!==null;)p.push(i);for(const y of p)M("scroll",y,b,!0)},f=()=>{for(const i of p)x("scroll",i,b,!0);p=[]},o=new Set,m=i=>{o.size===0&&a(),o.has(i)||o.add(i)},c=i=>{o.has(i)&&o.delete(i),o.size===0&&f()},b=()=>{Ct(r)},r=()=>{o.forEach(i=>i())},u=new Set,h=i=>{u.size===0&&M("resize",window,v),u.has(i)||u.add(i)},d=i=>{u.has(i)&&u.delete(i),u.size===0&&x("resize",window,v)},v=()=>{u.forEach(i=>i())};return C(()=>{x("resize",window,v),f()}),{targetRef:l,setTargetRef:s,addScrollListener:m,removeScrollListener:c,addResizeListener:h,removeResizeListener:d}},render(){return wt("binder",this.$slots)}}),Ht=It,qt=_({name:"Target",setup(){const{setTargetRef:n,syncTarget:t}=$("VBinder");return{syncTarget:t,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:t}=this;return n?G(T("follower",this.$slots),[[t]]):T("follower",this.$slots)}}),{c:A}=xt(),jt="vueuc-style",O={top:"bottom",bottom:"top",left:"right",right:"left"},H={start:"end",center:"center",end:"start"},V={top:"height",bottom:"height",left:"width",right:"width"},Nt={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},St={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Vt={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},q={top:!0,bottom:!1,left:!0,right:!1},Q={top:"end",bottom:"start",left:"end",right:"start"};function Dt(n,t,e,l,s,p){if(!s||p)return{placement:n,top:0,left:0};const[a,f]=n.split("-");let o=f??"center",m={top:0,left:0};const c=(u,h,d)=>{let v=0,i=0;const y=e[u]-t[h]-t[u];return y>0&&l&&(d?i=q[h]?y:-y:v=q[h]?y:-y),{left:v,top:i}},b=a==="left"||a==="right";if(o!=="center"){const u=Vt[n],h=O[u],d=V[u];if(e[d]>t[d]){if(t[u]+t[d]<e[d]){const v=(e[d]-t[d])/2;t[u]<v||t[h]<v?t[u]<t[h]?(o=H[f],m=c(d,h,b)):m=c(d,u,b):o="center"}}else e[d]<t[d]&&t[h]<0&&t[u]>t[h]&&(o=H[f])}else{const u=a==="bottom"||a==="top"?"left":"top",h=O[u],d=V[u],v=(e[d]-t[d])/2;(t[u]<v||t[h]<v)&&(t[u]>t[h]?(o=Q[u],m=c(d,u,b)):(o=Q[h],m=c(d,h,b)))}let r=a;return t[a]<e[V[a]]&&t[a]<t[O[a]]&&(r=O[a]),{placement:o!=="center"?`${r}-${o}`:r,left:m.left,top:m.top}}function Wt(n,t){return t?St[n]:Nt[n]}function _t(n,t,e,l,s,p){if(p)switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:""};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:""};case"right-end":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+e.width/2+s)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+e.width/2+s)}px`,transform:"translateX(-50%)"}}}const Ft=A([A(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),A(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[A("> *",{pointerEvents:"all"})])]),Qt=_({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const t=$("VBinder"),e=D(()=>n.enabled!==void 0?n.enabled:n.show),l=E(null),s=E(null),p=()=>{const{syncTrigger:r}=n;r.includes("scroll")&&t.addScrollListener(o),r.includes("resize")&&t.addResizeListener(o)},a=()=>{t.removeScrollListener(o),t.removeResizeListener(o)};W(()=>{e.value&&(o(),p())});const f=Mt();Ft.mount({id:"vueuc/binder",head:!0,anchorMetaName:jt,ssr:f}),C(()=>{a()}),Ot(()=>{e.value&&o()});const o=()=>{if(!e.value)return;const r=l.value;if(r===null)return;const u=t.targetRef,{x:h,y:d,overlap:v}=n,i=h!==void 0&&d!==void 0?Xt(h,d):S(u);r.style.setProperty("--v-target-width",`${Math.round(i.width)}px`),r.style.setProperty("--v-target-height",`${Math.round(i.height)}px`);const{width:y,minWidth:Y,placement:F,internalShift:nt,flip:ot}=n;r.setAttribute("v-placement",F),v?r.setAttribute("v-overlap",""):r.removeAttribute("v-overlap");const{style:g}=r;y==="target"?g.width=`${i.width}px`:y!==void 0?g.width=y:g.width="",Y==="target"?g.minWidth=`${i.width}px`:Y!==void 0?g.minWidth=Y:g.minWidth="";const rt=S(r),it=S(s.value),{left:L,top:K,placement:I}=Dt(F,i,rt,nt,ot,v),P=Wt(I,v),{left:lt,top:st,transform:at}=_t(I,it,i,K,L,v);r.setAttribute("v-placement",I),r.style.setProperty("--v-offset-left",`${Math.round(L)}px`),r.style.setProperty("--v-offset-top",`${Math.round(K)}px`),r.style.transform=`translateX(${lt}) translateY(${st}) ${at}`,r.style.setProperty("--v-transform-origin",P),r.style.transformOrigin=P};z(e,r=>{r?(p(),m()):a()});const m=()=>{kt().then(o).catch(r=>console.error(r))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(r=>{z(j(n,r),o)}),["teleportDisabled"].forEach(r=>{z(j(n,r),m)}),z(j(n,"syncTrigger"),r=>{r.includes("resize")?t.addResizeListener(o):t.removeResizeListener(o),r.includes("scroll")?t.addScrollListener(o):t.removeScrollListener(o)});const c=$t(),b=D(()=>{const{to:r}=n;if(r!==void 0)return r;c.value});return{VBinder:t,mergedEnabled:e,offsetContainerRef:s,followerRef:l,mergedTo:b,syncPosition:o}},render(){return N(gt,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,t;const e=N("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[N("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(n=this.$slots).default)===null||t===void 0?void 0:t.call(n))]);return this.zindexable?G(e,[[zt,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):e}})}});export{Ht as V,R as a,qt as b,Qt as c,Et as d,Ct as e,jt as f,A as g,Kt as h,Tt as i,Pt as u};
