import{d,r as i,o as m,O as f,P as _,X as h,a7 as v,R as t,W as k,a6 as s,S as r}from"./index-IJZQufTE.js";import{T as y}from"./TabPage-fig3sxZb.js";import{a as C}from"./DataTable-NQz5RrxM.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./Icon-9eBcRM8V.js";import"./use-merged-state-YxQ28VZH.js";import"./Dropdown-EnJ99DEV.js";import"./Follower-BiAojMZj.js";import"./Input-0LXRZhOI.js";import"./FocusDetector-ucGJCokY.js";const S=k("h1",null,"表格展示页面",-1),E=d({__name:"TableExample",setup(x){const u=i([]),o=i(!1),p=[{title:"编号",key:"id"},{title:"姓名",key:"name"},{title:"年龄",key:"age",sorter:!0},{title:"地址",key:"address"},{title:"操作",key:"action",render:e=>t("div",{class:"flex gap-2"},[t(s,{type:"primary",onClick:()=>l(e)},{default:()=>[r("查看")]}),t(s,{onClick:()=>l(e)},{default:()=>[r("编辑")]}),t(s,{type:"warning",onClick:()=>l(e)},{default:()=>[r("删除")]})]),width:"250px"}],a=i({page:1,pageCount:1,pageSize:20,showSizePicker:!0,pageSizes:[3,20,50],onChange:e=>{n(),a.value.page=e},onUpdatePageSize:e=>{a.value.pageSize=e,a.value.page=1,window.$message.info(`切换每页${e}条`),n()}});async function n(){o.value=!0;try{const e=await v.request({url:"/user/info",method:"get"});u.value=e.slice((a.value.page-1)*a.value.pageSize,a.value.page*a.value.pageSize),a.value.pageCount=Math.ceil(e.length/a.value.pageSize)}finally{o.value=!1}}const l=e=>{window.$message.success(JSON.stringify(e))};function c(e){console.log(e),n()}return m(()=>{n()}),(e,w)=>{const g=C;return f(),_(y,null,{default:h(()=>[S,t(g,{columns:p,data:u.value,pagination:a.value,remote:"",class:"h-70vh","flex-height":"",loading:o.value,"onUpdate:sorter":c},null,8,["data","pagination","loading"])]),_:1})}}});export{E as default};
